<template>
  <div class="navbar">
    <div class="container">
      <div class="logo">
        <a href=""><img src="@/assets/images/logo.png" alt="" /></a>
      </div>
      <div class="nav-bar">
        <ul>
          <li>
            <a href="#">Xiaomi手機</a>
            <div class="nav-bar-list">
              <div class="container">
                <ul>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/M2-Black.png" alt="" />
                      </div>
                      <p>Xiaomi 13 Pro</p>
                      <p>NT$34,888</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/M3-Green.png" alt="" />
                      </div>
                      <p>Xiaomi 13</p>
                      <p>NT$26,888</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/Redmi.png" alt="" />
                      </div>
                      <p>Xiaomi 13 Lite</p>
                      <p>NT$14,999</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/12u-Silver.png" alt="" />
                      </div>
                      <p>Xiaomi 12T Pro</p>
                      <p>NT$19,999</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/Xiaomi-12X-5G.png" alt="" />
                      </div>
                      <p>Xiaomi 12 Pro 5G</p>
                      <p>NT$26,999</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/Xiaomi-12X-5G.png" alt="" />
                      </div>
                      <p>Xiaomi 12X 5G</p>
                      <p>NT$16999</p>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </li>
          <li>
            <a href="#">Redmi手機</a>
            <div class="nav-bar-list">
              <div class="container">
                <ul>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/Redmi.png" alt="" />
                      </div>
                      <p>Xiaomi 13 Pro</p>
                      <p>NT$34,888</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/k7s.png" alt="" />
                      </div>
                      <p>Redmi 10 5G</p>
                      <p>NT$6,499起</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/M2-Black.png" alt="" />
                      </div>
                      <p>Xiaomi 13 Pro</p>
                      <p>NT$34,888</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/M2-Black.png" alt="" />
                      </div>
                      <p>Xiaomi 13 Pro</p>
                      <p>NT$34,888</p>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </li>
          <li>
            <a href="#">POCO手機</a>
            <div class="nav-bar-list">
              <div class="container">
                <ul>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/poco-x5-5g.png" alt="" />
                      </div>
                      <p>Xiaomi 13 Pro</p>
                      <p>NT$34,888</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/k7s.png" alt="" />
                      </div>
                      <p>Redmi 10 5G</p>
                      <p>NT$6,499起</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/M2-Black.png" alt="" />
                      </div>
                      <p>Xiaomi 13 Pro</p>
                      <p>NT$34,888</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/M2-Black.png" alt="" />
                      </div>
                      <p>Xiaomi 13 Pro</p>
                      <p>NT$34,888</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/M2-Black.png" alt="" />
                      </div>
                      <p>Xiaomi 13 Pro</p>
                      <p>NT$34,888</p>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </li>
          <li>
            <a href="#">智慧家庭</a>
            <div class="nav-bar-list">
              <div class="container">
                <ul>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/xunhuankongjing.png" alt="" />
                      </div>
                      <p>Xiaomi 空氣循環淨化器</p>
                      <p>NT$11,995</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/M3-Green.png" alt="" />
                      </div>
                      <p>Xiaomi 13</p>
                      <p>NT$26,888</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/Redmi.png" alt="" />
                      </div>
                      <p>Xiaomi 13 Lite</p>
                      <p>NT$14,999</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/12u-Silver.png" alt="" />
                      </div>
                      <p>Xiaomi 12T Pro</p>
                      <p>NT$19,999</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/Xiaomi-12X-5G.png" alt="" />
                      </div>
                      <p>Xiaomi 12 Pro 5G</p>
                      <p>NT$26,999</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/Xiaomi-12X-5G.png" alt="" />
                      </div>
                      <p>Xiaomi 12X 5G</p>
                      <p>NT$16999</p>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </li>
          <li>
            <a href="#">智慧科技</a>
            <div class="nav-bar-list">
              <div class="container">
                <ul>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/TV-55.png" alt="" />
                      </div>
                      <p>小米智慧顯示器</p>
                      <p>NT$ 15999 起</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/M3-Green.png" alt="" />
                      </div>
                      <p>Xiaomi 13</p>
                      <p>NT$ 15999 起</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/Redmi.png" alt="" />
                      </div>
                      <p>Xiaomi 13 Lite</p>
                      <p>NT$14,999</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/12u-Silver.png" alt="" />
                      </div>
                      <p>Xiaomi 12T Pro</p>
                      <p>NT$19,999</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/Xiaomi-12X-5G.png" alt="" />
                      </div>
                      <p>Xiaomi 12 Pro 5G</p>
                      <p>NT$26,999</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/Xiaomi-12X-5G.png" alt="" />
                      </div>
                      <p>Xiaomi 12X 5G</p>
                      <p>NT$16999</p>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </li>
          <li>
            <a href="#">配件</a>
            <div class="nav-bar-list">
              <div class="container">
                <ul>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/4174289.png" alt="" />
                      </div>
                      <p>33W 快速充電器 1A1C版</p>
                      <p>NT$325</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/k7s.png" alt="" />
                      </div>
                      <p>Redmi 10 5G</p>
                      <p>NT$6,499起</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/M2-Black.png" alt="" />
                      </div>
                      <p>Xiaomi 13 Pro</p>
                      <p>NT$34,888</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/M2-Black.png" alt="" />
                      </div>
                      <p>Xiaomi 13 Pro</p>
                      <p>NT$34,888</p>
                    </a>
                  </li>
                  <li>
                    <a href="#">
                      <div class="nav-img-box">
                        <img src="@/assets/images/M2-Black.png" alt="" />
                      </div>
                      <p>Xiaomi 13 Pro</p>
                      <p>NT$34,888</p>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </li>
          <li><a href="#">服務</a></li>
        </ul>
      </div>
      <div class="search">
        <input type="text" placeholder="POCO" v-model="gName" />
        <button
          type="button"
          class="el-icon-zoom-in"
          @click="querySearch"
        ></button>
        <div class="search-list">
          <a href="#"></a>
          <a href="#">小米手機</a>
          <a href="#">小米手機</a>
          <a href="#">小米手機</a>
          <a href="#">小米手機</a>
          <a href="#">小米手機</a>
          <a href="#">小米手機</a>
          <a href="#">小米手機</a>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: "Navbar",
  props: ["recive"],
  data() {
    return {
      gName: "",
      product: this.$store.state.product,
    };
  },
  methods: {
    querySearch() {
      this.$router.push({name:"search"});
      this.recive(this.queryData);
    },
  },
  computed: {
    queryData() {
      if (!this.gName) return this.product;
      // return this.product.filter(v=>v.name.indexOf(this.gName)!=-1)

      let newgoods = [];
      this.product.forEach((item) => {
        if (item.pName.indexOf(this.gName) != -1) {
          newgoods.push(item);
          console.log(newgoods);
        }
      });
      return newgoods;
    },
  },
};
</script>

<style>
.navbar {
  position: relative;
  width: 100%;
  height: 100px;
}
.navbar > .container {
  height: 100px;
}
.logo {
  float: left;
  width: 56px;
  height: 56px;
  /* background-color: aqua; */
}
.logo img {
  width: 100%;
  height: 100%;
  margin-top: 22px;
}
.nav-bar {
  float: left;
  padding-left: 174px;
  width: 874px;
  height: 100px;
  line-height: 100px;
  box-sizing: border-box;
}
.search {
  position: relative;
  float: left;
  width: 296px;
  height: 50px;
  margin-top: 25px;
}
.nav-bar ul li {
  float: left;
  padding: 0 10px;
}
.nav-bar ul li a {
  color: #333;
  font-size: 16px;
  font-weight: 600;
}
.nav-bar ul li a:hover {
  color: #ff6700;
}
.nav-bar-list {
  z-index: 999;
  display: none;
  position: absolute;
  left: 0;
  top: 100px;
  width: 100%;
  height: 229px;
  background-color: #fff;
  border-top: 1px solid #e0e0e0;
  box-shadow: 0 3px 4px rgba(0, 0, 0, 0.18);
}

.nav-bar li:hover > .nav-bar-list {
  display: block;
}
.nav-bar-list li {
  float: left;
  width: 180px;
  height: 190px;
  padding-top: 35px;
  /* background-color: aqua; */
}
.nav-img-box {
  width: 100%;
  height: 110px;
  margin-top: 20px;
  box-sizing: border-box;
  margin-bottom: 10px;
}
.nav-bar-list p {
  position: relative;
  font-size: 12px;
  line-height: 20px;
  top: 25px;
}
.nav-bar-list p:nth-last-of-type(1) {
  color: #ff6700;
}
/* 搜索框 */
.search > input {
  float: left;
  width: 223px;
  height: 50px;
  padding: 0 10px;
  border: 1px solid #e0e0e0;
  background-color: #fff;
  color: #424242;
  outline: none;
  border-right: none;
  transition: all 0.2s;
}
.search > button {
  float: left;
  width: 52px;
  height: 52px;
  background-color: #fff;
  border: 1px solid #e0e0e0;
  transition: all 0.2s;
}
.search > button:hover {
  background-color: #ff6700;
  border-color: #ff6700;
}
.el-icon-zoom-in {
  font-size: x-large;
  cursor: pointer;
}
.search > input:hover,
.search > input:hover + button {
  border-color: #b0b0b0;
}
.search > input:focus,
.search > input:focus + button {
  border-color: #ff6700;
}
.search-list {
  z-index: 999;
  display: none;
  position: absolute;
  top: 52px;
  width: 243px;
  height: 240px;
  border: 1px solid #ff6700;
  border-top: none;
  background-color: #fff;
}
.search > input:focus ~ .search-list {
  display: block;
}
.search-list a {
  display: block;
  width: 100%;
  height: 30px;
  padding: 6px 15px;
  box-sizing: border-box;
  text-align: left;
}
.search-list a:hover {
  background-color: #fafafa;
}
</style>